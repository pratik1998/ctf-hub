import socket
from mt19937predictor import MT19937Predictor

HOST = "52.59.124.14"
PORT = 10011

predictor = MT19937Predictor()

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect((HOST, PORT))

while True:
    data = client.recv(1024).decode("utf-8")
    arr = data.split("\n")
    for i in range(len(arr)):
        if arr[i].isdigit():
            predictor.setrandbits(int(arr[i]), 32)
        elif "FLAG" in arr[i]:
            print(arr[i].split(" ")[1])
            break
    if "FLAG" in data:
        break
    if "Guess" in data:
        guess = predictor.getrandbits(32)
        client.send(str(guess).encode("utf-8") + b"\n")
    